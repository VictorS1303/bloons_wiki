---
import { cards } from "../walkthroughs.astro"
import Layout from "../../layouts/Layout.astro"
import GameWalkthroughHero from "../../components/GameWalkthroughHero.astro"
import LevelOverviewContainer from "../../components/LevelOverviewContainer.astro"

export function getStaticPaths() {
  return cards.map((card) => {
    const slug = card.href.split("/").pop() // Extract slug from href
    return {
      params: { slug }, // Slug used for dynamic routing
      props: { game: card.cardText }, // Pass game data
    }
  })
}

const { game } = Astro.props
---

<Layout title=`Walkthrough - {game}`>
  <GameWalkthroughHero game={game} />
  <LevelOverviewContainer sectionHeaderText={game} />
</Layout>
